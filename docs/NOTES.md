# Long term objectives

The long term idea is to create an LLM-type agent. The goal of this agent is to answer questions on oak trade data based on bilateral *Comtrade* data.


# Database

- Ultimately, the data will be prepared in SQLite database generated by the biotrade package.


# Sample user questions to the Agent

- What was the import of oak sawnwood by Germany from France in 2015?

    - Must find the product code for oak sawnwood 4407??

        > "440791 - Wood; oak (Quercus spp.), sawn or chipped lengthwise, sliced or peeled, whether or not planed, sanded or finger-jointed, thicker than 6mm"

    - This is a select statement for one row in the database.

- What was the total import of oak sawnwood by Germany in 2025?

    - This is a sum on the partner side.

    - Pseudo SQL code:

        `select sum(x) for reporter == "Germany"`

- What was the largest oak sawnwood importer in 2020?

- What was the largest oak sawnwood exporter in 2020?


# Agent structure

Starting with one agent only, we will add a planer and more complex agent crew later.

An agent that:

- Creates appropriate SQL statements to answer the users question.

- Retrieves output data tables from SQL statements.

- Processes output data tables in accordance with the question.

- Converts insights from the database into a textual answer and potentially a graph.


# Visualization

The first prototype implements only a visualization.


# Sample data

Load the data from the BACI website:

    cd $HOME/repos/oak_trade_agent/data
    wget https://www.cepii.fr/DATA_DOWNLOAD/baci/data/BACI_HS22_V202501.zip

Uncompress:

    unzip BACI_HS22_V202501.zip

Test read with Pandas:

    import pandas
    df = pandas.read_csv("BACI_HS22_Y2023_V202501.csv")

    # Oak sawnwood reference number
    df.query("k == 440791")

    There is a column k in the csv file and I only want to read the part of the
    file with pandas for the value 440791 for sawnwood oak and the other 6
    digit hs code from roundwood oak.